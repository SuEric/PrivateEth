import web3 from 'web3';

export const proposalNames = ["Eric", "Monse", "Maruka"];

// export const contractInterface = [{ "constant": false, "inputs": [{ "name": "proposal", "type": "uint256" }], "name": "vote", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "uint256" }], "name": "proposals", "outputs": [{ "name": "name", "type": "bytes32" }, { "name": "voteCount", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "chairperson", "outputs": [{ "name": "", "type": "address" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "winningProposal", "outputs": [{ "name": "winningProposal", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": false, "inputs": [{ "name": "voter", "type": "address" }], "name": "giveRightToVote", "outputs": [], "payable": false, "stateMutability": "nonpayable", "type": "function" }, { "constant": true, "inputs": [{ "name": "", "type": "address" }], "name": "voters", "outputs": [{ "name": "voted", "type": "bool" }, { "name": "vote", "type": "uint256" }], "payable": false, "stateMutability": "view", "type": "function" }, { "constant": true, "inputs": [], "name": "winnerName", "outputs": [{ "name": "winnerName", "type": "bytes32" }], "payable": false, "stateMutability": "view", "type": "function" }, { "inputs": [{ "name": "proposalNames", "type": "bytes32[]" }], "payable": false, "stateMutability": "nonpayable", "type": "constructor" }];

export const ballotContract = web3.eth.contract(contractInterface);

export const byteCode = '0x6060604052341561000f57600080fd5b6040516107a03803806107a0833981016040528080518201919050506000336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408051908101604052806000151581526020016103e7815250600160008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff02191690831515021790555060208201518160010155905050600090505b81518110156101a6576002805480600101828161013691906101ad565b916000526020600020906002020160006040805190810160405280868681518110151561015f57fe5b906020019060200201516000191681526020016000815250909190915060008201518160000190600019169055602082015181600101555050508080600101915050610119565b505061020e565b8154818355818115116101da576002028160020283600052602060002091820191016101d991906101df565b5b505050565b61020b91905b80821115610207576000808201600090556001820160009055506002016101e5565b5090565b90565b6105838061021d6000396000f300606060405260043610610083576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f14610088578063013cf08b146100ab5780632e4176cf146100f1578063609ff1bd146101465780639e7b8d611461016f578063a3ec138d146101a8578063e2ba53f014610200575b600080fd5b341561009357600080fd5b6100a96004808035906020019091905050610231565b005b34156100b657600080fd5b6100cc60048080359060200190919050506102e9565b6040518083600019166000191681526020018281526020019250505060405180910390f35b34156100fc57600080fd5b61010461031c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561015157600080fd5b610159610341565b6040518082815260200191505060405180910390f35b341561017a57600080fd5b6101a6600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506103bc565b005b34156101b357600080fd5b6101df600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506104f7565b60405180831515151581526020018281526020019250505060405180910390f35b341561020b57600080fd5b610213610528565b60405180826000191660001916815260200191505060405180910390f35b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000160009054906101000a900460ff161561029057600080fd5b60018160000160006101000a81548160ff02191690831515021790555081816001018190555060016002838154811015156102c757fe5b9060005260206000209060020201600101600082825401925050819055505050565b6002818154811015156102f857fe5b90600052602060002090600202016000915090508060000154908060010154905082565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809150600090505b6002805490508110156103b7578160028281548110151561036b57fe5b90600052602060002090600202016001015411156103aa5760028181548110151561039257fe5b90600052602060002090600202016001015491508092505b808060010191505061034e565b505090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415806104645750600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900460ff165b1561046e57600080fd5b60408051908101604052806000151581526020016103e7815250600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff0219169083151502179055506020820151816001015590505050565b60016020528060005260406000206000915090508060000160009054906101000a900460ff16908060010154905082565b60006002610534610341565b81548110151561054057fe5b9060005260206000209060020201600001549050905600a165627a7a723058204053970887a58e6e25c17b0b4a39737c7b78fd4b406351e58e1882ae4fb084170029';

const ballot = ballotContract.new(
  proposalNames,
  {
    from: web3.eth.accounts[0],
    data: '0x6060604052341561000f57600080fd5b6040516107a03803806107a0833981016040528080518201919050506000336000806101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060408051908101604052806000151581526020016103e7815250600160008060009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff02191690831515021790555060208201518160010155905050600090505b81518110156101a6576002805480600101828161013691906101ad565b916000526020600020906002020160006040805190810160405280868681518110151561015f57fe5b906020019060200201516000191681526020016000815250909190915060008201518160000190600019169055602082015181600101555050508080600101915050610119565b505061020e565b8154818355818115116101da576002028160020283600052602060002091820191016101d991906101df565b5b505050565b61020b91905b80821115610207576000808201600090556001820160009055506002016101e5565b5090565b90565b6105838061021d6000396000f300606060405260043610610083576000357c0100000000000000000000000000000000000000000000000000000000900463ffffffff1680630121b93f14610088578063013cf08b146100ab5780632e4176cf146100f1578063609ff1bd146101465780639e7b8d611461016f578063a3ec138d146101a8578063e2ba53f014610200575b600080fd5b341561009357600080fd5b6100a96004808035906020019091905050610231565b005b34156100b657600080fd5b6100cc60048080359060200190919050506102e9565b6040518083600019166000191681526020018281526020019250505060405180910390f35b34156100fc57600080fd5b61010461031c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b341561015157600080fd5b610159610341565b6040518082815260200191505060405180910390f35b341561017a57600080fd5b6101a6600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506103bc565b005b34156101b357600080fd5b6101df600480803573ffffffffffffffffffffffffffffffffffffffff169060200190919050506104f7565b60405180831515151581526020018281526020019250505060405180910390f35b341561020b57600080fd5b610213610528565b60405180826000191660001916815260200191505060405180910390f35b6000600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002090508060000160009054906101000a900460ff161561029057600080fd5b60018160000160006101000a81548160ff02191690831515021790555081816001018190555060016002838154811015156102c757fe5b9060005260206000209060020201600101600082825401925050819055505050565b6002818154811015156102f857fe5b90600052602060002090600202016000915090508060000154908060010154905082565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6000806000809150600090505b6002805490508110156103b7578160028281548110151561036b57fe5b90600052602060002090600202016001015411156103aa5760028181548110151561039257fe5b90600052602060002090600202016001015491508092505b808060010191505061034e565b505090565b6000809054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff161415806104645750600160008273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900460ff165b1561046e57600080fd5b60408051908101604052806000151581526020016103e7815250600160008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff0219169083151502179055506020820151816001015590505050565b60016020528060005260406000206000915090508060000160009054906101000a900460ff16908060010154905082565b60006002610534610341565b81548110151561054057fe5b9060005260206000209060020201600001549050905600a165627a7a723058204053970887a58e6e25c17b0b4a39737c7b78fd4b406351e58e1882ae4fb084170029',
    gas: '4700000'
  }, (e, contract) => {
    console.log(e, contract);
    if (typeof contract.address !== 'undefined') {
      console.log('Contract mined! address: ' + contract.address + ' transactionHash: ' + contract.transactionHash);
    }
  })

export default ballot;
